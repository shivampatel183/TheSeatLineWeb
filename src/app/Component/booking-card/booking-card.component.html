<div class="booking-card">
    <!-- Card Header -->
    <div class="card-header">
        <div class="venue-info">
            <h3>{{ booking.venue?.name || 'Venue' }}</h3>
            <p class="venue-location">
                {{ booking.venue?.city }}, {{ booking.venue?.state }}
            </p>
        </div>
        <div class="status-badges">
            <span class="status-badge" [ngClass]="getStatusClass()">
                {{ booking.status }}
            </span>
        </div>
    </div>

    <!-- Show Information -->
    <div class="show-info" *ngIf="booking.show">
        <div class="info-row">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                <line x1="16" y1="2" x2="16" y2="6"></line>
                <line x1="8" y1="2" x2="8" y2="6"></line>
                <line x1="3" y1="10" x2="21" y2="10"></line>
            </svg>
            <span class="show-title">{{ booking.show.title }}</span>
        </div>
        <div class="info-row">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="10"></circle>
                <polyline points="12 6 12 12 16 14"></polyline>
            </svg>
            <span>{{ formatDate(booking.show.showDate) }} at {{ formatTime(booking.show.showTime) }}</span>
        </div>
    </div>

    <!-- Booking Details -->
    <div class="booking-details">
        <div class="detail-row">
            <span class="label">Booking ID:</span>
            <span class="value">#{{ booking.id }}</span>
        </div>
        <div class="detail-row">
            <span class="label">Seats:</span>
            <span class="value seats">{{ getSeatNumbers() }}</span>
        </div>
        <div class="detail-row">
            <span class="label">Total Seats:</span>
            <span class="value">{{ booking.seats?.length || 0 }}</span>
        </div>
        <div class="detail-row">
            <span class="label">Payment:</span>
            <span class="payment-badge" [ngClass]="getPaymentStatusClass()">
                {{ booking.paymentStatus }}
            </span>
        </div>
    </div>

    <!-- Card Footer -->
    <div class="card-footer">
        <div class="total-amount">
            <span class="label">Total Amount</span>
            <span class="amount">Rs. {{ booking.totalAmount.toFixed(2) }}</span>
        </div>
        <div class="actions">
            <button *ngIf="canCancel()" class="cancel-btn" (click)="cancelBooking()" [disabled]="isCancelling">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="15" y1="9" x2="9" y2="15"></line>
                    <line x1="9" y1="9" x2="15" y2="15"></line>
                </svg>
                {{ isCancelling ? 'Cancelling...' : 'Cancel Booking' }}
            </button>
        </div>
    </div>
</div>